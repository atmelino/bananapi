<html>
<head>
<title>Rover Test 01</title>

<script src="../../lib/jquery-ui-1.10.3/jquery-1.10.2.min.js"></script>
<script src="../../lib/jquery-ui-1.10.3/ui/minified/jquery-ui.min.js"></script>
<link rel="stylesheet" type="text/css" href="../../lib/jquery-ui-1.10.3/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" href="../../lib/jquery-ui-1.10.3/plugins/spinner-layout/jquery.ui.spinner.css">
<script src="../../lib/jquery-ui-1.10.3/plugins/spinner-layout/jquery.ui.spinner.js"></script>
<script type="text/JavaScript" src="ajaxFunctionsJSON.js"></script>
<script type="text/JavaScript" src="ajaxFunctions.js"></script>
<script type="text/JavaScript" src="functions.js"></script>
<link rel="stylesheet" href="semi-transparent-buttons.css">

<style type="text/css">
.squareButton {
	background-color: Transparent;
	height: 100px;
	width: 100px;
}

.squareButtonImage {
	display: block;
	box-sizing: border-box;
	height: 100px;
	width: 100px;
	opacity: 0.4;
	filter: alpha(opacity =         40);
	margin: 0 auto;
	padding: 2px;
	border-radius: 8px;
}

h5 {
	margin-top: 5px;
}

.controls {
	display: inline-block;
	margin: 10px;
}

.vertical input {
	width: 3ch;
	height: 4em;
}

.spinnersize1 input {
	font-size: 8pt;
	display: inline-block;
	margin: 10px;
	/*width: 30px;*/
	width: 6ch;
}
</style>

<script type="text/javascript">
	var spinnerfl;
	var spinnerrl;
	var spinnerfr;
	var spinnerrr;

	function onload_function() {
		//printlnMessage('messages', 'onload home');
	}

	$(function() {

		spinnerfl = $('#frontLeft  input').spinner({
			min : -10,
			max : 10,
			alignment : 'vertical'
		}).val(0);

		spinnerrl = $('#rearLeft  input').spinner({
			min : -10,
			max : 10,
			alignment : 'vertical'
		}).val(0);

		spinnerfr = $('#frontRight  input').spinner({
			min : -10,
			max : 10,
			alignment : 'vertical'
		}).val(0);

		spinnerrr = $('#rearRight  input').spinner({
			min : -10,
			max : 10,
			alignment : 'vertical'
		}).val(0);

		$('#frontLeft').on("spinstop", function(event, ui) {
			// printlnMessage('messages', "front left speed " + speed);
			setSpeed();
		});

		$('#rearLeft').on("spinstop", function(event, ui) {
			// 			printlnMessage('messages', "rear left speed " + speed);
			setSpeed();
		});

		$('#frontRight').on("spinstop", function(event, ui) {
			// 			printlnMessage('messages', "front right speed " + speed);
			setSpeed();
		});

		$('#rearRight').on("spinstop", function(event, ui) {
			// 			printlnMessage('messages', "rear right speed " + speed);
			setSpeed();
		});

		$("#bleftforward").click(function() {
			printlnMessage('messages', "left forward");
			speedfl = spinnerfl.spinner("value");
			speedfr = spinnerfr.spinner("value");
			speedrl = spinnerrl.spinner("value");
			speedrr = spinnerrr.spinner("value");
			spinnerfl.spinner("value", speedfl - 1);
			spinnerfr.spinner("value", speedfr + 1);
			spinnerrl.spinner("value", speedrl - 1);
			spinnerrr.spinner("value", speedrr + 1);
			setSpeed();
		});

		$("#bforward").click(function() {
			printlnMessage('messages', "forward");
			spinnerfl.spinner("value", 3);
			spinnerfr.spinner("value", 3);
			spinnerrl.spinner("value", 3);
			spinnerrr.spinner("value", 3);
			setSpeed();
		});

		$("#brightforward").click(function() {
			printlnMessage('messages', "right forward");
			speedfl = spinnerfl.spinner("value");
			speedfr = spinnerfr.spinner("value");
			speedrl = spinnerrl.spinner("value");
			speedrr = spinnerrr.spinner("value");
			spinnerfl.spinner("value", speedfl + 1);
			spinnerfr.spinner("value", speedfr - 1);
			spinnerrl.spinner("value", speedrl + 1);
			spinnerrr.spinner("value", speedrr - 1);
			setSpeed();
		});

		$("#bstop").click(function() {
			printlnMessage('messages', "stop");
			spinnerfl.spinner("value", 0);
			spinnerfr.spinner("value", 0);
			spinnerrl.spinner("value", 0);
			spinnerrr.spinner("value", 0);
			setSpeed();
		});

		$("#bleftbackward").click(function() {
			printlnMessage('messages', "left backward");
			speedfl = spinnerfl.spinner("value");
			speedfr = spinnerfr.spinner("value");
			speedrl = spinnerrl.spinner("value");
			speedrr = spinnerrr.spinner("value");
			spinnerfl.spinner("value", speedfl - 1);
			spinnerfr.spinner("value", speedfr + 1);
			spinnerrl.spinner("value", speedrl - 1);
			spinnerrr.spinner("value", speedrr + 1);
			setSpeed();
		});

		$("#bbackward").click(function() {
			printlnMessage('messages', "backward");
			spinnerfl.spinner("value", -3);
			spinnerfr.spinner("value", -3);
			spinnerrl.spinner("value", -3);
			spinnerrr.spinner("value", -3);
			setSpeed();
		});

		$("#brightbackward").click(function() {
			printlnMessage('messages', "right backward");
			speedfl = spinnerfl.spinner("value");
			speedfr = spinnerfr.spinner("value");
			speedrl = spinnerrl.spinner("value");
			speedrr = spinnerrr.spinner("value");
			spinnerfl.spinner("value", speedfl + 1);
			spinnerfr.spinner("value", speedfr - 1);
			spinnerrl.spinner("value", speedrl + 1);
			spinnerrr.spinner("value", speedrr - 1);
			setSpeed();
		});

	});

	function setSpeed() {

		speedfl = spinnerfl.spinner("value");
		speedfr = spinnerfr.spinner("value");
		speedrl = spinnerrl.spinner("value");
		speedrr = spinnerrr.spinner("value");

		myParams = {
			speedfl : speedfl,
			speedfr : speedfr,
			speedrl : speedrl,
			speedrr : speedrr
		};
		//printlnMessage('messages', JSON.stringify(myParams));
		ajax_setSpeedJSON(myParams);

	}
</script>


</head>
<body onload="onload_function()">

	<div>
		<table border="1">
			<tr>
				<td>
					<table border="1">
						<tr>
							<td><span id='frontLeft' class="vertical controls"><input /></span></td>
						</tr>
						<tr>
							<td><span id='rearLeft' class="vertical controls"><input /></span></td>
						</tr>
					</table>
				</td>
				<td>
					<table cellspacing="0" cellpadding="0" border="0" background="rover_top.jpg">
						<tr>
							<td>
								<button class="semi-transparent-button with-border" id='bleftforward'>
									<img src="turnLeftForward.gif" class="squareButtonImage" />
								</button>
							</td>
							<td>
								<button class="semi-transparent-button with-border" id='bforward'>
									<img src="forward.gif" class="squareButtonImage" />
								</button>
							</td>
							<td>
								<button class="semi-transparent-button with-border" id='brightforward'>
									<img src="turnRightForward.gif" class="squareButtonImage" />
								</button>
							</td>
						</tr>
						<tr>
							<td>
								<button class="semi-transparent-button with-border" id='bempty'></button>
							</td>
							<td>
								<button class="semi-transparent-button with-border" id='bstop'>
									<img src="stop-sign.png" class="squareButtonImage" />
								</button>
							</td>
							<td>
								<button class="semi-transparent-button with-border" id='bempty'></button>
							</td>
						</tr>
						<tr>
							<td>
								<button class="semi-transparent-button with-border" id='bleftbackward'>
									<img src="turnLeftBackward.gif" class="squareButtonImage" />
								</button>
							</td>
							<td>
								<button class="semi-transparent-button with-border" id='bbackward'>
									<img src="backward.gif" class="squareButtonImage" />
								</button>
							</td>
							<td>
								<button class="semi-transparent-button with-border" id='brightbackward'>
									<img src="turnRightBackward.gif" class="squareButtonImage" />
								</button>
							</td>
						</tr>
					</table>
				</td>
				<td>
					<table border="1">
						<tr>
							<td><span id='frontRight' class="vertical controls"><input /></span></td>
						</tr>
						<tr>
							<td><span id='rearRight' class="vertical controls"><input /></span></td>
						</tr>
					</table>
				</td>
			</tr>
		</table>

	</div>
	<div id='messagesDiv'>
		<textarea id="messages" cols=80; rows=20;></textarea>
	</div>
</body>
</html>
